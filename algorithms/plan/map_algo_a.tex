\Statex\Comment{$A$-этап}
\State $\hat A_{gen}=\varnothing$
\ForAll{$z_m\in M^*$}
	\Statex\Comment{Распространение активности вниз по сети значений}
	\State $M^*=\varphi_m^\downarrow(z_m, d_m)$\label{alst:a_spread_m}
	\ForAll{$z_m^*\in M^*$}
		\State $\hat A_{gen} := \hat A_{gen}\cup\{\Psi_m^a(z_m^*)\}$ \label{alst:a_gen_a}
	\EndFor
\EndFor
\Statex\Comment{Совмещение активности образованных смыслов и текущей ситуации}
\State $\hat A = \hat A_{gen}\cup \hat A_{case}$
\ForAll{$z_a\in \hat A$}
	\State $z_{shift}=(e_i|i\in I^e)$ \label{alst:a_shift}
	\If{$z_{cur} \not\geq z_{shift}$}
		\State $\hat A = \hat A\setminus\{z_a\}$ \label{alst:a_filter}
	\EndIf
\EndFor
\Statex\Comment{Метакогнитивная проверка эвристики}
\State $\hat A=\{\theta_a(z_a)|z_a\in\hat A\}$ \label{alst:a_meta}
\If{$\hat A = \varnothing$}
	\State\Return $\varnothing$
\EndIf
