% !TeX encoding = windows-1251

\section{Модели функций}\label{sect:sint_level}

\subsection{Модель функции целеполагания на синтаксическом уровне}

Задача управления поведением субъекта деятельности включает в себя фазы планирования и исполнения плана \cite{Osipov2002a,Osipov2003b,Osipov2008b}. Первая задача планирования заключается в выдвижении цели "--- целеполагании. Применим развитый выше аппарат к решению этой задачи. Синтез плана и его исполнение будут рассмотрены во второй части статьи.

Целеполагание "--- сложный процесс, который включает в себя не только выдвижение цели, но и определение условий и конкретного способа ее достижения. Как уже было сказано, характер процесса целеполагания определяется типом картины мира (КМ) субъекта. В случае житейской КМ ведущим компонентом является значение, т.е. субъект отталкивается от сюжетно"--~ролевой структуры и использует уже существующие знаки, чтобы выбрать подходящую ситуацию, которая и будет целевой.

Для обозначения операции переходов на сети значений, образов и личностных смыслов введём недетерминированный оператор переходов $Tr$, действующий на булеанах $2^P$, $2^A$ и $2^M$: $Tr(x)=x^\prime$, где $x,x^\prime\in 2^A$ или $x,x\prime\in 2^P$, или $x,x^\prime\in 2^M$. Левая композиция оператора $\Psi_x^y$, где $x\in\{m, a, p\}$, $y\in\{m, a, p\}$ (т.е. любого из операторов  $\Psi_p^m$, $\Psi_m^a$ или $\Psi_a^p$), с оператором переходов по сети $y$ обозначим как $\underline{\Psi}_x^y:\underline{\Psi}_x^y=\Psi_x^y\circ Tr(x)$, где $Tr(x)=x^\prime$, $x\in 2^A$ или $x\in 2^P$, или $x\in 2^M$ и $x^\prime\in 2^A$, или $x^\prime\in 2^P$, или $x^\prime\in 2^M$. Под композицией операторов будем понимать применение левого оператора к результату применения правого оператора. Правая композиция оператора $\Psi_x^y$ , где $x\in\{m, a, p\}$, $y\in\{m, a, p\}$, с оператором переходов по сети y обозначим как $\overline{\Psi}_x^y: \overline{\Psi}_x^y=Tr(y)\circ\Psi_x^y$, где $Tr(y)=y^\prime$, $y\in 2^A$ или $y\in 2^P$, или $y\in 2^M$ и  $y^\prime\in 2^A$, или $y^\prime\in 2^P$, или $y^\prime\in 2^M$. Например, левая композиция оператора   с оператором перехода по сети образов запишется как $\underline{\Psi}_p^m=\Psi_p^m\circ Tr(y)$.

Процесс целеполагания осуществляется в рамках какой-либо деятельности. Будем рассматривать случай, когда мотив деятельности осознан, т.е. знак предмета потребности включён в картину мира субъекта деятельности. Тогда мотивом деятельности (в житейской картине мира) является значение ($m$) этого знака. Мотив удовлетворяется, когда существует знак, такой, что результатом применения правой композиции оператора   с оператором переходов ($Tr(p)\circ\Psi_a^p$) к личностному смыслу этого знака является образ знака предмета потребности. (Или на семантическом уровне: существует знак, такой, что результатом некоторого действия, интерпретирующего личностный смысл этого знака, выступает образ знака предмета потребности.)

Тогда знак, результатом применения к которому правой композиции оператора $\Psi_a^p$ с оператором переходов является образ знака предмета потребности, будем называть целевым знаком. Или на семантическом уровне: целевым будем называть такой знак, в структуре личностного смысла которого существует действие, применение которого приводит к формированию признаков образа предмета потребности (удовлетворению потребности). Процесс целеполагания, таким образом, заключается в построении такой последовательности знаков, которая заканчивается знаком, из которого достижим мотив, т.е. удовлетворяется потребность.

В соответствии с разд.~\ref{subsubsect:signif} значение знака будем представлять в виде множества пар <<действие "--- роль предмета в этом действии>>, образ ($p$) такого знака "--- в виде набора свойств, т.~е. пар <<признак "--- значение признака>>, личностный смысл ($a$) "--- в виде правила, соответствующего действию субъекта с предметом; условие и эффект действия такого правила задаются в виде множества свойств.

Далее, $s^*$ "--- знак, экземпляр значения которого $\mu^*$ является мотивом деятельности. В приведённом ниже алгоритме целеполагания будем использовать как синтаксические, так и семантические соображения, особенно не подчёркивая этого обстоятельства.

\textbf{Алгоритм GS.}

\textbf{Вход}: знак предмета потребности $s^*$, мотив $\mu^*$.

\textbf{Шаг 1}: переход $\mu^*\rightarrow a_1$ (применяется оператор $\underline{\Psi}_m^a$). На подсети значений (в сценарии с порождающим знаком $s^*$) применяем к $\mu^*$ оператор переходов $Tr$ до тех пор, пока не будет получено такое значение $m_1$, знак $s_1$ которого обладает личностным смыслом $a_1$ таким, что интерпретирующее его действие в множестве добавляемых признаков $p_{add}$ содержит множество признаков $p^*$ знака $s^*$:  $\underline{\Psi}_m^a:\mu^*\rightarrow a_1$, где $a_1$ такое, что $p^*\subseteq p_{add}(a_1)$ (применение операторов $Tr(\mu^*)$ и $\Psi_m^a$ на Рисунке~\ref{fg:goalsetting_alg}). Если знак $s_1$ не совпадает со знаком $s^*$, то найденный целевой знак со своим личностным смыслом является целью и алгоритм завершает работу, иначе переходим к шагу 2.

\textbf{Шаг 2}: переход $a_1\rightarrow\bar p_2$  (применяется оператор $\overline{\Psi}_a^p$). На подсети образов применяем оператор переходов $Tr$ к образу, содержащему один или несколько признаков условия $p_{cond}$ правила, интерпретирующего личностный смысл $a_1$ знака $s_1$ до тех пор, пока не будет получено максимального по мощности множества признаков $p_2$ знака $s_2$, являющегося подмножеством $p_{cond}$. Объединение признаков образа $p_2$ знака $s_2$ с каким-либо признаком (одним или несколькими) из множества $p_{cond}\\p_2$ будем называть расширенным образом $\bar p_2$: $\overline{\Psi}_a^p:a_1\rightarrow\bar p_2$, где $\bar p_2$ такое, что $p_2\subseteq\bar p_2$  и  $\bar p_2\subseteq p_{cond}$ (применение операторов $\Psi_a^p$ и $Tr(p_1)$ на Рисунке~\ref{fg:goalsetting_alg}).

\textbf{Шаг 3}: переход $\bar p_2\rightarrow\mu_3$ (применяется оператор $\overline{\Psi}_p^m$). На подсети значений применяем оператор $Tr$ к какому-либо значению знака $s_3$, образ которого совпадает с множеством признаков $\bar p_2\\p_2$ до тех пор, пока не будет получено такого экземпляра $\mu_3$, что:
\begin{itemize}
	\item порождаемый знаком $s_3$ (с первым по порядку $\geqslant$ экземпляром значения $\mu_3$ в $M_{scen}$) элементарный сценарий $M_{est}(s_3)$ совпадает с каким-либо элементарным сценарием (с первым по порядку $\geqslant$ экземпляром значения $\mu^\prime_2$ в $M_{scen}$), порождаемым знаком $s_2$, найденным на шаге 2 с точностью до знаков $s_2$ и $s_3$ (т.е. без их учёта);
	\item соответствующий экземпляру значения $\mu_3$ личностный смысл $a_3$ интерпретируется таким действием, что в множество признаков его эффекта включено множество признаков образа $p_3$ самого знака $s_3$: $\overline{\Psi}_p^m:\bar p_2\rightarrow\mu_3$, где $\mu_3$ "--- первый по порядку экземпляр значения в множестве $M_{scen}$ сценария $M_{est}(s_3)$, причём   такой, что $M_{est}(s_2)=M_{est}(s_3)$ без учёта знаков $s_2$ и $s_3$ (применение операторов $Tr(p_2)$, $\Psi_p^m$ и $Tr(\mu_3)$ на Рисунке~\ref{fg:goalsetting_alg}).
\end{itemize}

\textbf{Шаг 4}: переход $\mu^\prime_2\rightarrow a_2$ (применяется оператор $\Psi_m^a$). Нахождение личностного смысла $a_2$, соответствующего значению $\mu^\prime_2$ знака $s_2$. Завершение работы алгоритма.

\textbf{Выход}: либо знак $s_1$ и его личностный смысл $a_1$, либо знак $s_2$ и его личностный смысл $a_2$.

В результате работы алгоритма найден знак $s_2$, не совпадающий со знаком предмета потребности $s^*$, личностный смысл $a_2$ которого интерпретируется действием, приводящим к удовлетворению потребности. Целью, таким образом, становится знак $s_2$ с личностным смыслом $a_2$ (Рисунке~\ref{fg:goalsetting_alg}).

\fig{[scale=0.3]{goalsetting_alg.jpg}}{\caption{Иллюстрация к алгоритму целеполагания: $s^*$ "--- знак предмета потребности, $\mu^*$ "--- экземпляр его значения, иначе говоря, мотив деятельности. Стрелками обозначены операторы $\Psi_p^m$, $\Psi_m^a$, $\Psi_a^p$ и $Tr$}\label{fg:goalsetting_alg}}

\textbf{Пример}. Опишем в качестве простого примера процедуру целеполагания руководителя команды разработчиков программного обеспечения (Рисунке~\ref{fg:goalsetting_ex}).

\fig{[scale=0.3]{goalsetting_ex.jpg}}{\caption{Пример процесса целеполагания руководителя команды разработчиков с житейской картиной мира. Знаком предмета потребности руководителя является знак с именем <<средства>>. Стрелками обозначены операторы $\Psi_p^m$, $\Psi_m^a$, $\Psi_a^p$ и $Tr$}\label{fg:goalsetting_ex}}

Руководитель команды использует в данном случае житейскую картину мира, мотивом его деятельности является значение знака <<средства>>, один из экземпляров значения которого "--- <<получение>>, обладающее семантической валентностью <<объект>>. Иначе говоря, один из экземпляров значений знака средства есть пара (<<получение>>, <<объект>>). Предположим, образ этого знака содержит признаки: <<высокая ценность>>, <<востребованность рынком>>, <<новое>>.

\textbf{Алгоритм GS.}

\textbf{Вход}: знак <<средства>> и мотив (<<получение>>, <<объект>>).

\textbf{Шаг 1}: переход значение "--- личностный смысл. Сценарий образуется семантическими валентностями предикатного слова, (в данном случае "--- <<получение>>). Субъект ищет знак, при этом его личностный смысл интерпретируется действиями, которые он будет осуществлять, чтобы удовлетворить мотив. Иначе говоря, в множестве добавлений правила, интерпретирующего личностный смысл, должны содержаться необходимые признаки предмета, за который происходит получение средств, например <<высокая ценность>>, <<востребованность рынком>>, <<новое>> и т.д. Предположим, что будет найден личностный смысл <<получить>> знака <<средства>>.

\textbf{Шаг 2}: переход личностный смысл "--- образ. Выполнение действия, соответствующего найденному личностному смыслу, требует удовлетворения признаков из условия действия. Происходит поиск такого знака, образ которого содержит необходимые признаки. Так как руководитель команды разработчиков имеет дело с программным обеспечением, то рано или поздно им будет найден знак <<программное обеспечение>>, так как его образ содержит признаки <<высокая ценность>>, <<востребованность рынком>>. Неудовлетворённые признаки из условия правила вместе с удовлетворёнными образуют расширенный образ, например <<новое программное обеспечение>>.

\textbf{Шаг 3}: переход образ "--- значение. Ищется знак, содержащий в образе признак <<новый>>, например знак <<новый объект>>. Выбираем экземпляр значения этого знака. Экземпляр значения должен быть первым в каком-либо сценарии, совпадающим с каким-либо сценарием знака <<программное обеспечение>>. Таким экземпляром может служить <<создание>>, так как в картине мира руководителя команды имеется необходимый сценарий. Для соответствующего сценария, порождённого знаком <<программное обеспечение>>, первым экземпляром в таком случае выступает <<разработать>>.

\textbf{Шаг 4}: переход значение "--- личностный смысл. Выбирается личностный смысл знака <<программное обеспечение>>, соответствующий экземпляру значения <<разработать>>. Действие, интерпретирующее этот личностный смысл, в множестве добавляемых признаков будет включать признаки <<высокая ценность>>, <<востребованность рынком>>, <<новое>>, содержащиеся в образе знака <<средства>> и удовлетворяющие мотив. Таким образом, текущий знак является целевым, а целью "--- пара <<разработать>> "--- <<программное обеспечение>>.

\textbf{Выход}: знак <<программное обеспечение>> и его личностный смысл <<разработать>>.


\subsection{Синтез плана поведения} \label{sect:plan}
Построим алгоритм планирования в житейской картине мира, используя изложенные выше соображения. Аналогично задачам планирования в искусственном интеллекте \cite{Fikes1971} будем рассматривать фиксированный домен планирования $D=\langle S_{st},S_{goal} \rangle$, где $S_{st}$ "--- начальная ситуация, $S_{goal}$ "--- целевая ситуация, представляющая из себя целевой знак, который был определен с помощью процедуры целеполагания. В качестве текущей ситуации будем рассматривать такое множество знаков, соответствующие признаки которых достоверно с точки зрения алгоритма $\mathfrak A_{th}$ распознаются $R$-автоматами максимального уровня иерархии и не поглощаются другими признаками из этого множества, достоверно распознаваемыми $R$-автоматами более высокого уровня иерархии.

С формальной точки зрения планом $Plan$ при фиксированном домене планирования $D$ будем называть такую последовательность личностных смыслов, в которой процедурный признак (ему соответствует очередной личностный смысл) не конфликтует с процедурным признаком, которому соответствует предыдущий личностный смысл.

\so{Определение 8.}	Последовательность личностных смыслов $\{\alpha_1,\alpha_2,\dots,\alpha_n\}$ будем называть планом $Plan$ в домене $D=\langle S_{st},S_{goal} \rangle$, если $\alpha_1,\dots,\alpha_n$ последовательно применимы и $\forall 1<k\leqslant n$ $\alpha_k$ не конфликтуют с $\alpha_{k-1}$.

Ниже представлен алгоритм $\mathfrak A_{bp}$ планирования поведения. В нем используется функция интериоризации $Interior$, которая с помощью одного из отображений связывания $\Psi_m^a$ \cite{PanovA2014a} определяет личностный смысл $\alpha$ по элементу значения $\mu$.

\begin{algorithm}[h]
	\begin{algorithmic}[1]
		\Require начальная ситуация $S_{st}$, знак мотива $s_{goal}$ и связанный с ним личностный смысл $a_{goal}$, функция оценки $\Phi_a$;
		\Ensure план $Plan$;
		
		\State $F_{st}=\bigcup\limits_{s\in S_{st}}\{f(s)\}$; \Comment{множество признаков начальной ситуации}
		
		\State $Plan=\Call{Planning}{\varnothing, \{f(s_{goal})\}, \{a_{goal}\}}$;
		
		\Function{Planning}{$Plan$, $F_{cur}$, $A_{forw}$}
		\State $\tilde A_{forw}=\Phi_a(A_{forw},s_{goal})$; \Comment{выбор предпочитаемых действий}
		
		\State $F_{cond} = \bigcup\limits_{a\in \tilde A_{forw}}F_C(a)$;
		
		\State $F_{next}=F_{cur}\cup F_{cond}\setminus\bigcup\limits_{a\in \tilde A_{forw}}F_A(a)$; \Comment{следующая ситуация планирования}
		
		\If{$F_{next}\subseteq F_{st}$}
		\State \Return $Plan\cup{\tilde A_{forw}}$;		\Comment{возвращаем обновленный план}
		\Else
		\If{$F_{next}=F_{cur}$}
		\State\Return невозможно построить план;
		\Else
		\State $\Delta=F_{next}\setminus F_{st}$; \Comment{текущее рассогласование состояний}					
		\State $M_{next}=\{\mu_i | \mu_i\in m(f), f\in F_{next},F_D(\mu)\cap\Delta=\varnothing\}$;
		
		\State $M_{forw}\subseteq M_{next}$ такое, что $\begin{cases}
		\left|\bigcup\limits_{\mu\in M_{forw}}\left(F_A(\mu)\setminus\Delta\right)\right|\rightarrow\max,\\
		\ \left|\bigcap\limits_{\mu\in M_{forw}}\left(F_A(\mu)\setminus\Delta\right)\right|\rightarrow\min;
		\end{cases}$ \Comment{решение оптимизационной задачи}
		
		\State $A_{next} = \bigcup\limits_{\mu\in M_{forw}}\{\Call{Interior}{\mu}\}$; \Comment{текущее множестов личностных смыслов}
		
		\ForAll $\alpha_j\in A_{next}$
		\If{$\exists \alpha_k\in A_{next}$ такой, что $\alpha_k\not =\alpha_i$ и $\alpha_k$ конфликтует с $\alpha_j$}
		\State $\alpha_{del}=\arg\min\limits_{\alpha\in\{\alpha_k,\alpha_j\}}|F_A(\alpha)\setminus\Delta|$;
		\State $A_{next}= A_{next}\setminus\{\alpha_{del}\}$; \Comment{удаляем конфликтующие признаки}
		\EndIf
		\EndFor
		
		\State \Return \Call{Planning}{$Plan, F_{next}, A_{next}$};						
		\EndIf
		\EndIf
		
		\EndFunction
	\end{algorithmic}
\end{algorithm}

\subsubsection{Пример} 

Опишем в качестве простого примера процесс планирования, реализуемый алгоритмом $\mathfrak A_{bp}$ и протекающий в житейской картине мира руководителя команды разработчиков программного обеспечения. Работа процедуры целеполагания для этого примера была описана в \cite{PanovA2014a}. В результате процесса целеполагания в картине мира руководителя команды разработчиков был найден целевой знак <<\textit{программное обеспечение}>> с личностным смыслом <<\textit{разработать}>>. Пусть планирование осуществляется в ситуации, в которую входят следующие знаки: <<\textit{команда разработчиков}>>,<<\textit{тестировщик}>>, <<\textit{заказчик}>>, <<\textit{кредитная линия в банке}>> (начальная ситуация). Так~как ранее было задано некоторое соответствие между множеством знаков и множеством признаков (см. разд. \ref{subst:sign_comp}), то будем соотносить признак с именем знака, которому он соответствует.

\underline{Алгоритм $\mathfrak A_{bp}$.}

\underline{Вход:} знак <<\textit{программное обеспечение}>> с личностным смыслом <<\textit{разработать}>>.

\so{Шаг 1}. Так как текущее множество личностных смыслов $A_{forw}$ состоит из одного смысла <<\textit{разработать}>>, то оно и будет выбрано в качестве предпочитаемого. Пусть в условия действия, которым интерпретируется выбранный личностный смысл, входят признаки <<\textit{денежные средства}>>, <<\textit{команда разработчиков}>>, <<\textit{тестировщик}>> (множество $F_{cond}$).

\so{Шаг 2}. В множество признаков ситуации планирования
\begin{equation*}
	F_{next}=F_{cur}\cup F_{cond}\setminus\bigcup\limits_{a\in \tilde A_{forw}}F_A(a)
\end{equation*}
будут входить следующие признаки: <<\textit{денежные средства}>>, <<\textit{команда разработчиков}>>, <<\textit{тестировщик}>> (целевой признак <<\textit{программное обеспечение}>>, входящий в множество добавляемых признаков $F_A(a)$, не входит в $F_{cond}$).

\so{Шаг 3}. Условие $F_{next}\subseteq F_{st}$, очевидно, не выполняется, так~как в множестве $F_{st}$ отсутствует признак <<\textit{денежные средства}>>. Условие $F_{next}=F_{cur}$ также не выполняется, поэтому продолжаем построение плана и переходим к следующему шагу.

\so{Шаг 4}. Текущее рассогласование состояний $\Delta=F_{next}\setminus F_{st}$ в нашем примере равно единственному признаку <<\textit{денежные средства}>>.

\so{Шаг 5}. Далее осуществляется поиск такого множества $M_{next}$ элементов значений, для которых интерпретирующие их действия не удаляют признаки, входящие в невязку $\Delta$. Допустим, что в это множество входят элементы значений знака <<\textit{денежные средства}>> (<<\textit{взять в кредит}>>,<<\textit{объект}>>) и знака <<\textit{команда разработчиков}>> (<<\textit{нанять}>>,<<\textit{объект}>>).

\so{Шаг 6}. На данном шаге осуществляется выбор такого подмножества $M_{forw}$ элементов значений, для которого в результате применения соответствующего действия будет добавлено максимальное множество признаков из текущей невязки $\Delta$, при этом требуется, чтобы множества добавлений пересекались как можно меньше. В нашем случае решением такой minimax задачи будет элемент значения (<<\textit{взять в кредит}>>,<<\textit{объект}>>).

\so{Шаг 7}. На заключительном этапе итерации по найденному значению с помощью отображения связывания $\Psi_m^a$ (процедура $Interior$) происходит поиск неконфликтующих личностных смыслов. Так~как в нашем случае множество $M_{forw}$ одноэлементно, то допустим, что будет найден личностный смысл <<\textit{взять кредит}>>, который и добавляется в план действий.

На этом текущая итерация заканчивается и начинается новая с текущей ситуацией планирования $F_{next}$ и личностным смыслом <<\textit{взять кредит}>> (множество $A_{next}$). Если в множество условий $F_C$ действия, которое интерпретирует личностный смысл <<\textit{взять кредит}>>, входит признак <<\textit{кредитная линия в банке}>>, то на следующей итерации условие $F_{next}\subseteq F_{st}$ будет выполнено и алгоритм закончит свою работу, вернув в итоге план, состоящий из одного личностного смысла.

\subsubsection{Планирование в коллективе} 

В случае рассмотрения деятельности субъекта в коллективе при составлении плана могут быть использованы наряду с личностными смыслами, в которые входят признаки образа <<Я>> (см. определение 3), смыслы, относящиеся к знаку, опосредующему другого участника коллектива. Иными словами, пусть у субъекта, составляющего общий план действий, имеются наборы признаков $F_1,F_2,\dots,F_N$, относящиеся к каждому члену коллектива, т.~е. имеются образы других участников деятельности. Если процедура $Interior$ будет наряду с поиском на множестве личностных смыслов осуществлять поиск и на множестве процедурных признаков $F_p^{other}$, для которых $F_C(f)\cap F_i\not = \varnothing$, $f\in F_p^{other}$, $i\in\{1,\dots,N\}$, то в итогом плане будут содержаться действия, недоступные самому субъекту, но выполнимые другими участниками коллектива.

Таким образом, при составлении плана действий в коллективе происходит распределение ролей по тому, какие действия в общем плане могут быть выполнены каждым участником. Это возможно в том случае, когда у одного из членов коллектива имеется представление обо всех участниках и доступных им действиях.

На рис.~\ref{fg:iagent} показана архитектура интеллектуального агента, который обладает знаковой картиной мира и способен к составлению плана поведения и распределению ролей в коалиции в описанном выше смысле.

\fig{[scale=0.8]{iagent.jpg}}{\caption{Архитектура интеллектуального агента со знаковой картиной мира}\label{fg:iagent}}

\section{Некоторые приложения}

\subsection{Планирование согласованных перемещений}

Представление пространственных и временных знаний в задачах достижения общей цели группой автономных технических объектов (интеллектуальных агентов), в том числе и беспилотных летательных аппаратов, обладает существенной спецификой по сравнению с описанием таких знаний отдельного агента. Будем рассматривать случай группового взаимодействия, в котором агенты решают общую задачу (имеют общую цель, являющуюся вершиной иерархии подцелей каждого участника группы), действуют независимо друг от друга (децентрализованное управление) и могут ставить индивидуальные подцели, обладают разными стратегиями поведения, различными базами знаний (картинами мира) и действуют в меняющейся среде.

К ключевым особенностям представления знаний для задач с описанными свойствами относятся: необходимость поддержки некоторого протокола коммуникации, разделение знаний на коммуницируемые и некоммуницируемые (личные), необходимость выделения компоненты знания, не зависящей от индивидуальных (личных) характеристик агента, на основе которой формируется содержание передаваемых сообщений, требование к наличию механизма связывания реальных объектов внешней среды и процедур их распознавания с символьным коммуницируемым представлением (symbol grounding problem) \cite{Harnad1990,Barsalou1999}, поддержка механизмов пополнения картины мира (обучение и абстрагирование).

В настоящей работе предлагается знаковый подход к построению модели представления пространственных и временных знаний агентов, участвующих в решении общей задачи на перемещение, учитывающий перечисленные особенности. Такая модель далее будет называться знаковой пространственно-временной картиной мира. Понятие знака формализуется на основе культурно-исторического подхода Выготского \cite{Vygotsky2005} и теории деятельности Леонтьева \cite{Leontiev1977}, которые позволяют раскрыть роль и функции знака в представлении знаний и в процессах обмена информацией. Для привязки знака к реальным объектам и свойствам среды (к денотатам знака) предлагается использовать специальный процесс обучения, результатом которого является готовая система распознавания, описываемая в терминах теории автоматов. В заключение статьи приводится модельный пример использования знакового представления знаний для согласованного перемещения группы беспилотных летательных аппаратов (БПЛА).

\subsubsection{Существующие подходы к представлению знаний о пространстве и времени}
Существует достаточно большое количество моделей представления пространственных знаний для навигации, построения карты местности, планирования траекторий и других подобных задач. Многие из них создаются для решения частных практических примеров и не претендуют на универсальность. Другие модели, как например, широко известная модель 4D/RCS \cite{Albus2007} или 3T \cite{Bonasso1997}, применяются только для отдельных автономных технических объектов и в них не учитываются те особенности представления знаний, о которых говорилось во введении. Существующие модели представления пространственных и временных знаний, применимые в условиях группового взаимодействия, такие как групповое расширение модели 4D/RCS \cite{Yakovlev2014}, обычно не учитывают проблему привязки элементов знания к внешней среде и не подразумевают какого-либо сложного обучения, кроме манипуляции известными символами для составления карты местности.

Среди имеющихся работ стоит отметить близкую к настоящей статье работу Д. Роя \cite{Roy2005}, посвященную проблеме привязанного к внешней среде представления знаний, в том числе и пространственного характера. Используется идея знакового представления, где знак используется не в психологическом, а в логическом смысле \cite{Pierce2000b}. Для описания объектов, действий и ситуаций используются так называемые схемы (см. для примера рис.~\ref{fg:roy_schema}). Схема согласуется с результатом обработки сенсорной информации (распознавание категорий) и с помощью определенных на ее основе действий обновляет представления агента о внешней среде и одновременно производит изменения в этой среде.

\fig{[scale=0.27]{roy_schema.jpg}}{\caption{Схема объекта чашка (cup), для которого с помощью перцептивных процедур (detect, measure) определены свойства цвета (COLOR) и формы (SHAPE), а также определены действия по перемещению (Grip и move), зависящие от текущего положения чашки (L).}\label{fg:roy_schema}}

С помощью таких схем удается описать процесс коммуникации агентов, когда агент, имеющий привязку некоторого символа к внешней среде, сообщает информацию об этом символе другому агенту, не имеющему средств к проверке такой привязки. Несмотря на успешную реализацию на роботе-манипуляторе, оперирующем объектами на столе, такой подход обладает существенными недостатками. Во-первых, не используются процессы обучения, то есть все схемы задаются разработчиком, хотя и привязываются к реальным объектам с помощью заранее известных сенсорных входов. Во-вторых, количество используемых Роем пространственно-временных отношений довольно ограничено (отношения <<содержится в>>, <<соприкасается с>>, <<предшествует>>). 

Стоит отметить, что в таких работах как \cite{Allen1983,Herskovits1997,Kuipers2000} количество описываемых отношений, с помощью которых задаются такие свойства как топология, взаимное расположение, расстояние, относительное движение, следование во времени, пересечение во времени и др., намного больше и большинство из них необходимы для описания пространственного движения, более сложного, чем ограниченного движение манипулятора над столом.

В настоящей работе для задания пространственных и временных отношений, не зависящих от сенсорной привязки, используются подходы, разрабатываемые в рамках теории ситуационного управления \cite{Pospelov1986}. Поспеловым и его учениками предложен ряд псевдофизических логик, задающих достаточно широкий спектр отношений, которые полностью покрывают все случаи, возникающие в задаче двумерного пространственного перемещения агентов. Логический подход позволяет не только описать ситуацию, но и реализовать вывод на знаниях, с помощью которого можно предсказывать следующие состояния системы и пополнять знания без наличия актуальной сенсорной информации.

\subsubsection{Когнитивный подход к представлению пространственно-временных знаний}

Предлагаемая модель знаковой пространственно-временной картины мира опирается на работы в области прикладной семиотики \cite{Osipov1999} и на формальное определения знака, предложенное в работах Осипова и коллег. Знаковая картина мира позволяет строить модели высших когнитивных функций человека, в том числе и сложных процессов коммуникации (например, в которых различаются операциональное и референтное значения сообщения), и применима в задачах управления БПЛА \cite{Zubarev2013}.

В соответствии с предлагаемым подходом объекты и их свойства в картине мира интеллектуального агента представляются в виде специальных конструкций "--- знаков. Каждый знак обладает s четырехкомпонентной структурой: $s=\langle n, p, m, a\rangle$ (см. рис.~\ref{fg:sign}). Компонента имени n является согласованным в коллективе агентов условным обозначением представляемого объекта или свойства. Компонента образа p содержит процедуру распознавания и категоризации представляемого объекта или свойства. Компонента значения m задает набор обобщенных согласованных в коллективе действий, совершаемых с участием данного объекта. И, наконец, компонента личностного смысла a задает набор индивидуальных действий агента, совершаемых с представляемым объектом и содержащих в качестве параметров его внутренние характеристики. Например, для знака с именем <<книга>> образом является как сама процедура распознавания, так и используемые ей характерные признаки (<<твердый переплет>>, <<300 страниц>>, <<о живописи>> и т.д.), значением "--- общепринятые действия, связанные с объектом книги (<<читать>>, <<пересылать по почте>> и т.п.), личностным смыслом "--- личные действия агента, связанные с объектом книги (<<читать перед сном>>, <<подпирать дверь>> и т.п.). В настоящей работе для описания пространственно-временной картины мира будут использоваться только имена, образы и значения знаков.

Пространственно-временная картина мира агента будет задается фрагментом семиотический сети \cite{Panov2012b} $H=\langle H_Р, H_А, H_М\rangle$, состоящей из трех семантических сетей: $H_Р=\langle 2^P, R_P\rangle$ - сеть с семейством отношений $R_P$ на множестве образом $P$ (таких, как отношения сходства, противопоставления и эквивалентности), $H_А=\langle 2^A, R_A\rangle$ - сеть с семейством отношений $R_A$ на множестве личностных смыслов $A$ (таких, как отношения агглютинации, поглощения и противопоставления), $H_М=\langle 2^M, R_M\rangle>$ - сеть с семейством отношений $R_M$ на множестве значений $M$ (таких, как ситуационные и сюжетные отношения).

Для привязки знаков к опосредуемым объектам внешней среды используются распознающие автоматы. Специальным образом определенная иерархия таких автоматов позволяет описать как процесс категоризации (распознавания) знака, так и определить участие знака в действиях агента. Схема работы автомата представлена на рис.~\ref{fg:rb_cycle}.

Кратко напомним алгоритм работы автомата $R$ уровня иерархии $i$. Каждый момент времени $t$ он получает на вход последовательность векторов действительных чисел от 0 до 1 с нижнего уровня иерархии. Входной вектор $\hat x$ длины $q$ представляет собой веса входных признаков $F$, участвующих в распознавании выходных признаков $F^*$. В начальный момент работы автомата поступает управляющий вектор $\hat x^{j+1}$ с верхнего уровня иерархии, задающий предсказание значений весов выходного вектора, которые должны получиться после завершения рабочего цикла распознающего автомата (через время $h$). В каждый момент времени $t$ распознающий автомат вычисляет текущий весовой вектор $x^*$ выходных признаков длины $l$ и управляющий вектор $x?^j$ на нижний уровень иерархии длины $q$. Автоматы связаны иерархическим отношением, если выходные признаки (возможно, не все) дочернего автомата участвуют в распознавании выходных признаков родительского автомата (являются для последнего входными).

Состояние автомата $R$ задается множеством битовых матриц предсказания $Z$ размерности $q$ на $h$. Каждому выходному признаку $f^*$ соответствует свой набор матриц предсказания, в которых в столбце $t$ единицы соответствуют необходимым для распознавания $f^*$ в момент времени $t$ входным признакам. Если с помощью некоторой процедуры $\Delta$ множество столбцов всех матриц распознавания для признака $f_p$ разделяется на множество столбцов, содержащих всегда предшествующие признаки (условия), и множество столбцов, содержащих всегда последующие признаки (эффекты), то такой признак $f_p$ называется процедурным и опосредует действия и процессы.

Если между множеством знаков и множеством признаков, распознаваемых всеми автоматами иерархии, установлено взаимно-однозначное соответствие (именование), то компоненты знака определяются следующим образом. Образом знака $s$, соответствующего признаку $f$, является множество всех признаков, участвующих в распознавании признака $f$. Значением знака $s$, соответствующего признаку $f$, является множество всех процедурных признаков, условия которых распознаются с помощью признака $f$.

Привязка знака к внешним объектам и процессам осуществляется за счет того, что входными признаками распознающих автоматов нижнего уровня иерархии являются данные, поступающие с сенсоров. Формирование состояний автомата в процессе наблюдения агента происходит с помощью специального алгоритма обучения иерархической временной памяти (hierarchical temporal memory, HTM) \cite{George2009,Panov2015c}. HTM использует нейрофизиологические данные о строении первичных участков коры головного мозга для формирования биологически правдоподобной схемы с использованием марковских цепей и алгоритмов иерархической кластеризации. К основным принципам работы HTM относятся: использование иерархии вычислительных узлов с восходящими и нисходящими связями, использование Хэббовских правил обучения, разделение пространственного и временного группировщиков, подавление активации для формирования разреженного представления.

Формируемые в результате работы алгоритма HTM связи между компонентами вычислительного узла в рамках двух связанных иерархической связью узлов задают матрицу предсказания для некоторого выходного признака в модели распознающих автоматов.

\subsubsection{Модельная задача}
В качестве примера использования предлагаемой модели представления пространственных и временных знаний опишем модельную задачу по перемещению группы БПЛА на местности с различными типами препятствий. Пусть имеются два агента $A_1$ и $A_2$, располагающиеся в координатах $(x_1,y_1)$ и $(x_2,y_2)$, соответственно. Агент $A_1$ обладает способностью разрушать препятствия типа $C$ и большими размерами $r_1$, не позволяющими ему напрямую построить траекторию в целевую зону G с координатами $(x_G,y_G)$. Агент $A_2$ обладает способностью разрушать препятствия типа $B$ и небольшими размерами $r_2$, позволяющими ему напрямую построить траекторию до целевой зоны $G$ (рис.~\ref{fg:smart_reloc}). Местность полностью наблюдаема, а ее карта доступна обоим агентам.

\fig{[scale=0.15]{smart_reloc.png}}{\caption{Планирование совместного перемещения двух агентов (БПЛА). Прямоугольники в сетку "--- препятствия типа $A$, прямоугольники с наклонной штриховкой "--- препятствия типа $B$. а) "--- пространственные области в картинах мира агентов, б-и) "--- этапы выполнения плана по перемещению в целевую область $G$.}\label{fg:smart_reloc}}

Агенты в своей картине мира опосредуют действия по перемещению знаками $st(i)$ (признаками $f_t$, $t$ "--- тип перемещения, $i=1,2\dots$ "--- имя действия), которым соответствуют матрицы предсказания типа $Z_t$, состоящие из трёх столбцов $z_1=(l_x, I)$, $z_2=(l_y, d_u, E)$ и $z_3=(l_y, I, t_v)$, где $l_x$, $l_y$ "--- признаки, соответствующие категории расстояния в пространственной логике \cite{Pospelov1986} (например, вплотную, близко, далеко и др.), $d_u$ "--- признак, соответствующий категории направления в пространственной логике (например, впереди, слева и др.), $t_v$ "--- признак, соответствующий категории времени во временной логике [14] (например, скоро, в будущем и др.), $I$ "--- признак присутствия самого агента, $E$ "--- признак отсутствия препятствия. В матрице типа $Z_t$ столбцы $z_1$ и $z_2$ являются столбцами условий, а столбец $z_3$ "--- столбцом эффектов.

Всем признакам из образа знака $st(i)$ в свою очередь соответствуют свои матрицы распознавания, полученные в результате обучения в процессе наблюдения агента за средой. В результате этого обучения и формируются дискретные категории расстояния, направления и времени, такие как: слева, скоро, близко и т.п.

В процессе планирования агент строит некоторый план по достижению цели G для чего необходимо выполнить действие $st(1)$, в котором, например, $l_x$ "--- вплотную, $l_y$ "--- далеко (категоризация расстояния между точками $(x_1,y_1)$ или $(x_2,y_2)$ и $(x_G,y_G)$), $d_u$ "--- впереди, $t_v$ - скоро. Если для агентов доступны только действия типа $st(2)$, где $l_x$ "--- вплотную, $l_y$ "--- очень близко, $d_u$ "--- впереди, слева и т.п., $t_v$ "--- очень скоро, то происходит построение плана по перемещению, в котором строится последовательность из действий типа $st(2)$. 

В случае агента $A_1$ в виду его больших размеров, на некотором этапе признак $E$ будет отсутствовать и условие очередного действия $st(2)$ не будет выполнено. В таком случае, если агенту $A_1$ доступно некоторое действие по передаче сообщения $M_1$, то в план может быть включена посылка информации агенту $A_2$ о препятствии в области $obs_1$ (см. рис.~\ref{fg:smart_reloc}, в). Если у агента $A_2$ имеется знак, опосредующий агента $A_1$ (представление о другом агенте), в образ которого входит его положение, то агент $A_2$ сможет построить план по перемещению в область $obs_1$ и устранению препятствия (см. рис.~\ref{fg:smart_reloc}, г-е).

В протоколе коммуникации сообщения не включают информацию об образах, используемых в сообщении знаков, которые могут не совпадать у агентов $A_1$ и $A_2$ (различные матриц предсказания одних и тех же признаков в виду несовпадения процессов обучения). За счет согласованности значений этих знаков (общее множество доступных действий), информация в сообщении может быть интерпретирована адресатом.
На завершающем этапе агенты поочередно перемещаются в целевую зону (см. рис.~\ref{fg:smart_reloc}, ж-и).


\subsection{Принятие диагностических решений}

Данная работа является частью большого исследования моделей целенаправленного повдедения, проводимого под руководством Осипова Г.С. В рамках этих работ разрабатываются модели мотивации, синтеза плана, принятия решений в условиях неопрделенности и др. на основе единого подхода. Этот подход берёт свое начало с работ Поспелова Д.А. по прикладной семиотике и Леонтьева А.Н. по деятельностному подходу в психологии. Данные научные направления объединены на основе формализации понятия знака и построения архитектуры интеллектуального агента со знаковой картиной мира..

Одними из первых экспериментов, проводимых с интеллектуальными агентами со знаковой картиной мира, являлись эксперименты по моделированию приобретения личностных смыслов специалистами в некоторой предметной области. Деятельность специалистов в процессе принятия решения по поводу той или иной проблемы, как и любая сознательная деятельность человека, является знаково опосредованной с точки зрения теории деятельности, что делает правомерным использование знаковых моделей. Моделированию процессов влияния приобретаемых личностных смыслов специалистами на принятие ими дальнейших решений и посвящена данная работа.

Архитектура интеллектуального агента, основанная на знаковом представлении, была реализованна в виде программного агента, взаимодействующего с другими агентами в специальном модуле для системы построения мультиагентных систем Jadex. В качестве предметной обалсти,в которой действовали агенты, была выбрана консультационная психология. Были проведены эксперименты по соотвествию поведения агента поведению реального психолога-консультанта.

\subsubsection{Строение интеллектуального агента}
Кратко определим знак как отбражение множества имён $\mathbf{N}=\{n\}$ во множество троек: $\mathbf{N}\to \{(\mathbf{m},\mathbf{a},\mathbf{p})\}$, такое что $s(n)=(\mathbf{m}\mathbf{,a}\mathbf{,p}),\mathbf{n}\in N$, где $\mathbf{m}$ "--- множество значений предмета или способов использования данного объекта как предмета культуры, $\mathbf{a}$ "--- множество действий с предметом (множество личностных смыслов), $\mathbf{p}$ - представление о предмете (образ предмета), в который включена некоторая процедура распознавания образа ${{A}_{p}}$. Каждый элемент знака: значение, личностный смысл или образ "--- включает в себя фрагмент соотвествующей семантической сети на именах $W=(\mathbf{N},\mathbf{R})$, $\mathbf{R}$ "--- семейство отношений, $\mathbf{R}\subseteq {{\mathbf{N}}^{2}}$. Фрагментом F семантической сети $W$, в свою очередь, назовём множество имён ${{\mathbf{N}}_{F}}\subseteq \mathbf{N}$ и множество отношений ${{\mathbf{R}}_{F}}\subseteq \mathbf{R}$, в которое входят только те отношения, которые определены на именах из ${{\mathbf{N}}_{F}}$.

Всё множество значений формирует семантическую сеть на значениях ${{W}_{m}}$, всё множество личностных смыслов "--- семантическую сеть на смыслах ${{W}_{a}}$, всё множество образов "--- семантическую сеть на образах ${{W}_{p}}$. Совокупность всех трёх семантических сетей образуют картину мира агента.

Для моделирования процесса принятия решений специалистов в простейшем случае достаточно использовать два компонента знака из трех: личностный смысл и образ. Значение знака в данных экспериментах играло вспомогательную роль.

В качестве предметной области была использована консультационная психология, а агент моделировал поведение психолога "--- консультанта в процессе анализа жалоб и принятия решения о том, к какой категории относится проблематика поступившей от клиента жалобы.

В ходе экспериментов интеллектуальному агенту-консультанту (ИАК) подавалась серия текстовых жалоб, каждая из которых в свою очередь была разбита на некоторое количество отрывков (<<реплик>>). Целью агента являлось вынесение решения по поводу того, к какой категории относится жалоба клиента. В ходе деятельности у агента менялось количество некоторого условного ресурса, что моделировало энергетику практической деятельности психолога-консультанта. Из анализа получавшихся графиков изменения ресурса делался вывод о соответствии поведения ИАК поведению реального психолога-консультанта.

В соответствии с существующими в современной теории и методологии психологического консультирования, в качестве обобщающих категорий были определены следующие типы жалоб: клиент испытывает проблемы в сфере мотивации и регуляции деятельности (категория жалоб <<Мотивация>>), в сфере познавательных процессов (категория <<Познание>>), в сфере эмоций и чувств (<<Эмоции>>), в сфере формирования и проявления идентичности (<<Идентичность>>). Жалоба поступает ИАК в виде последовательности реплик до тех пор, пока ИАК не примет окончательного решения о типе проблематики всей жалобы. Таким образом, для ИАК достижение мотива интерпретации текста жалобы в целом происходит в ходе последовательного достижения ряда промежуточных целей "--- интерпретации отдельных реплик (рис.~\ref{fg:psy_agents1}).

\fig{[scale=0.7]{psy_agents1.png}}{\caption{Деятельность агента "--- психологического консультанта}\label{fg:psy_agents1}}

Цель и соответствующий план её достижения задавались агенту заранее в знаковом виде. Имена и образы, соответствующие знакам картины мира, также задавались ИАК в готовом виде. Формирование же личностных смыслов, отражающих опыт ИАК, происходило в процессе реального взаимодействия с предметом его деятельности.

Семантическая сеть образов представляла собой четыре корневых дерева с двумя уровнями узлов, корнями которых являлись имена категорий жалоб (рис.~\ref{fg:psy_agents2}), а листьями "--- имена признаков категорий: $\mathbf{N}={{\mathbf{N}}_{cat}}\cup {{\mathbf{N}}_{ind}}$. Множество отношений $\mathbf{R}$ состояло из одного несимметричного отношения ${{R}_{par}}$ - <<быть элементом>>.

\fig{[scale=0.7]{psy_agents2.png}}{\caption{Сеть образов ИАК}\label{fg:psy_agents2}}

При реализации процедуры распознавания ${{A}_{p}}$ каждой паре $({{N}_{cat}},{{N}_{ind}}),{{N}_{cat}}\in {{\mathbf{N}}_{cat}},{{N}_{ind}}\in {{\mathbf{N}}_{ind}}$ ставился в соответствие некоторый вес $w\in [0,1]$. Процессу интерпретации смысла реплики соответствовал процесс её категоризации, которому, в свою очередь, ставился в соответствие процесс распознавания образа категории в данной реплике. Процедура ${{A}_{p}}$ выдает 0, если знакприсутсвует в фокусе внимания, и 1, иначе. Она интерпретировалась как принятие решения о том, к какой категории относятся все реплики, накопленные в фокусе внимания агента при анализе жалобы клиента.

Расчёт весов на сети образов осуществлялся следующим образом. Изменение веса $i$-го знака (веса пары $({{N}_{cat}},{{N}_{i}})$), относящегося к категории $cat$, определялось как $\Delta _{\omega }^{i}=1+\frac{{{C}_{\omega }}{{{\tilde{\omega }}}^{i}}}{1+{{e}^{-\frac{{\tilde{Q}}}{{{C}_{Q}}}}}},\Delta _{\omega }^{i}\in [1,1+{{C}_{\omega }}]$, где ${{\tilde{\omega }}^{i}}=\frac{re{{q}^{i}}}{\sum\limits_{j}{re{{q}^{j}}}},{{\tilde{\omega }}^{i}}\in [0,1]$ - <<эффективный>> вес i-го знака в тексте текущей реплики (суммирование идёт по всем знакам, найденным в текущей реплике), $re{{q}^{i}}$ - количество экземпляров i-го знака в реплике, $\tilde{Q}=\frac{{{Q}^{cat}}}{{{C}_{cat}}}+{{Q}^{i}}$ - <<эффективная>> оценка личностного смысла $i$-знака, ${{Q}^{cat}}$ - оценка личностного смысла категории $cat$, ${{Q}^{i}}$ - оценка личностного смысла $i$-го знака, ${{C}_{\omega }}>1,{{C}_{cat}}>1$ - некоторые константы. Вес категории $cat$ вычислялся как ${{\hat{\omega }}_{cat}}=\sum\limits_{j\in [1,{{n}_{cat}}]}{\omega _{t}^{j}re{{q}^{j}}}$, ${{n}_{cat}}$ - количество знаков-признаков, относящихся к категории $cat$. $\hat{\omega }_{t+1}^{i}=\Delta _{\omega }^{i}\omega _{t}^{i,cat},\omega _{t+1}^{i,cat}=\frac{\hat{\omega }_{t+1}^{i}}{\underset{j}{\mathop{\max }}\,\hat{\omega }_{t+1}^{j}}$ - изменение веса $i$-го знака с течением времени $t$. Максимум вычислялся по всем знакам в сети на образах. Это связано с тем, что увеличение веса конкретного знака сказывается не только на том фрагменте семантической сети, которому соответствует образ знака-категории, но и на всей семантической сети на образах. За счёт этого закрепляется опыт распознавания всех знаков.

Основным этапом в процессе деятельности агента являлся этап анализа реплики. Он основывался на частотном принципе: в тексте реплики подсчитывалось количество слов, соответствующих именам знаков-признаков в картине мира агента (см. выше). С учётом личностных смыслов знаков подсчитывался вес каждой категории для данной реплики. Если агент не накопил достаточно информации для принятия решения о категории всей жалобы, он анализировал следующую реплику. В зависимости от индивидуальных характеристик, агенты по-разному накапливали опыт анализа реплик. После принятия окончательного решения агент посылал сообщение специальному агенту-оракулу, который отправлял в качестве ответа объективный результат анализа тестовой реплики. Объективность заключалась в том, что агент-оракул не имел личностных смыслов в своей картине мира, т.е. результат его интерпретации не <<искажался>> накопленным личным опытом.

Личностный смысл знаков-категорий и знаков-признаков в картине мира ИАК был представлен оценочной составляющей ${{Q}_{a}}$, которая изменялась в зависимости от того верным ли оказывалось вынесенное решение по поводу предполагаемой категории. Изменение оценки личностного смысла $i$-го знака
\begin{equation*}
	\Delta _{Q}^{i}=\begin{cases}
	-{{C}_{Q}},& D(ag)\ne D(oq), \\ 
	{{C}_{Q}},& D(ag)=D(oq), \\ 
	\end{cases}
\end{equation*}
где $D(ag)$ - решение агента, $D(oq)$ - правильный результат (решение оракула $oq$), ${{C}_{Q}}>0$ - некоторая константа. $Q_{t+1}^{i}=Q_{t}^{i}+\Delta _{Q}^{i}$ - изменение оценки личностного смысла $i$-го знака с течением времени $t$.

В картине мира ИАК помимо знаков-категорий и знаков-признаков присутствовали также и вспомогательные знаки для обеспечения деятельности ИАК:
\begin{itemize}
	\item знак ${{S}_{res\_an}}$ с именем ${{N}_{res\_an}}$ (<<Результат анализа реплики>>), с которым ИАК связывал действие ${{a}_{sig\_upd}}$ по обновлению своей картины мира (запоминание результата анализа): $\mathbf{N}_{_{{{a}_{sig\_upd}}}}^{out}=\{{{N}_{res\_an}}\},\mathbf{N}_{_{{{a}_{sig\_upd}}}}^{in}=\varnothing ,$
	\item знак ${{S}_{decis}}$ с именем ${{N}_{decis}}$ (<<Консультационное решение>>), в образ которого входило название категории, к которой ИАК отнёс текущую жалобу,
	\item знак ${{S}_{hypot}}$ с именем ${{N}_{hypot}}$ (<<Консультационная гипотеза>>), в образ которого входили текущие представления агента о том, к какой категории относится текущая жалоба,
	\item знак ${{S}_{text}}$ с именем ${{N}_{text}}$ (<<Текст реплики>>), с которым ИАК связывал действие ${{a}_{text}}$ по анализу текста и получению результата анализа: $\mathbf{N}_{_{{{a}_{text}}}}^{out}=\{{{N}_{text}}\},\mathbf{N}_{{{a}_{text}}}^{in}=\{{{N}_{res\_an}}\}$ и действие ${{a}_{check}}$ по проверке своего решения: $\mathbf{N}_{{{a}_{check}}}^{out}=\{{{N}_{text}}\text{,}{{N}_{decis}}\},\mathbf{N}_{{{a}_{check}}}^{in}=\varnothing .$
\end{itemize}

При анализе каждой реплики затрачивалось константное количество ${{C}_{A}}$ условного ресурса. В случае подтверждения решения ИАК оракулом ресурс увеличивался на некоторую константу ${{C}_{r}}{{C}_{R}}$, а в случае отрицательного результата "--- уменьшался на ${{C}_{R}}$: 
\begin{equation*}
	{{\Delta }_{R}}= \begin{cases}
	-{{C}_{R}},& D(ag)\ne D(oq), \\ 
	{{C}_{r}}{{C}_{R}},& D(ag)=D(oq), \\ 
	\end{cases}
\end{equation*}
${{C}_{R}}>0,{{C}_{r}}>1$. Если ресурс агента становился меньше 0, то ИАК прекращал деятельность "--- наступало так называемое психологическое <<выгорание>> специалиста.

В зависимости от стратегии накопления опыта анализа реплик клиентов и принятия решения о категории жалобы, ИАК делились на четыре типа:
\begin{itemize}
	\item <<хаотичные>> ИАК принимали решение в пользу категории cat после того как эта категория набирала определенный критический вес ${{Y}_{H}}>0$,
	\item <<активные>> ИАК принимали решение в пользу категории cat после того как разница весов лидирующей категории в текущей гипотезе превышала вес <<второго места>> на некоторую критическую величину ${{Y}_{A}}>0$,
	\item <<активные>> ИАК принимали решение в пользу категории cat после того как разница весов лидирующей категории в текущей гипотезе превышала вес <<второго места>> на некоторую критическую величину ${{Y}_{A}}>{{Y}_{P}}>0$,
	\item <<стереотипные>> ИАК принимали решение в пользу категории cat после того как вес категории, которая была лидирующей в первой гипотезе относительно проблематики текущей жалобы (после анализа первой реплики), превышал критическое значение ${{Y}_{S}}>0$.
	
\end{itemize}

Индивидуальные особенности поведения агентов различных типов в процессе анализа жалобы клиента представлены в таб. 1.

\subsubsection{Система проведения экспериментов}

Для проведения экспериментов с интеллектуальными агентами-консультантами была реализована программная система в виде модуля к системе построения мультиагентных систем Jadex \cite{Jadex2016}. Выбор именно этой системы основывался на следующих её преимуществах:
\begin{itemize}
	\item блок рассуждений Jadex основывается на классической BDI (Belief Desire Intention) модели,
	\item облегчено задание внешней среды и действий агента с использованием XML,
	\item возможность расширения функциональности агентов, создание своих типов агентов (не только BDI архитектуры) с помощью модулей на языке программирования Java,
	\item возможность подключения мультиагентной среды JADE в качестве среды коммуникации агентов с поддержкой стандарта FIPA (Foundation for Intelligent Physical Agents),
	\item использование мощного блока вывода на основе правил.
\end{itemize}

Перед началом проведения экспериментов происходит настройка среды моделирования в контрольном центре (рис.~\ref{fg:psy_agents3}). В блоке 1 отображаются загруженные модули расширения и их структура по пакетам. В блоке 3 выводится текущая информация о функционирующих компонентах. В блоке 2 находятся настройки текущего модуля: запускаемая конфигурация, начальные параметры.

\fig{[scale=1]{psy_agents3.jpg}}{\caption{Контрольный центр Jadex}\label{fg:psy_agents3}}

К настраиваемым параметрам системы относятся:
\begin{itemize}
	\item число запускаемых в мультиагентной среде агентов,
	\item тип запускаемых агентов,
	\item флаг сохранения снимков картины мира агента,
	\item путь к файлу настроек внешней среды.
\end{itemize}

После предварительной настройки модуля и его запуска открываются окна информации о текущем состоянии мультиагентной системы (рис.~\ref{fg:psy_agents4}):
\begin{itemize}
	\item в блоке 1 (окно состояния внешней среды) отражается информация о внешней среде: список загруженных реплик и список совершённых агентами действий в процессе работы; проанализированные реплики отмечаются галочками, там же находится кнопка выбора списка файлов реплик для анализа;
	\item в блоке 2 (окно состояния агента, вкладка общей информации) отображается общая информация об агенте: тип агента, список имён знаков, находящихся в фокусе внимания, список объектов (текстов) в фокусе внимания, список проанализированных текстов, список принятых решений (правильные "--- зелёные, неправильные "--- красные) и ответов от оракула, текущее количество ресурсов; справа располагается график изменения ресурса с течением времени;
	\item в блоке 3 (окно состояния агента, вкладка картины мира) выводится часть картины мира "--- часть сети на образах с цветовым обозначением оценок личностных смыслов; есть возможность увеличения и уменьшения масштаба, подсветка выделяемых вершин и рёбер.
\end{itemize}

\fig{[scale=1]{psy_agents4.jpg}}{\caption{Информация о функционировании мультиагентной системы (начало работы)}\label{fg:psy_agents4}}

Агенты работают до тех пор, пока не исчерпается их ресурс или не закончатся реплики жалоб клиентов. В качестве реплик использовались либо отрывки с объективным преобладанием какой-либо одной категории (например <<Мотивация>>) "--- тогда среда считалась предсказуемой, либо отрывки, относящиеся к различным категориям по проблематике "--- тогда среда считалась случайной.

\subsubsection{Результаты экспериментов}

В результате проведения экспериментов для каждого агента получается набор снимков его картины мира через некоторые промежутки времени (порядка 1000 снимков), из которых формируется видео-ролик эволюции картины мира агента, а также график изменения ресурса с течением времени. Характерные снимки представлены на рис.~\ref{fg:psy_agents5} и \ref{fg:psy_agents6} (в конце работы агента).

\fig{[scale=0.2]{psy_agents5.png}}{\caption{Картина мира агента в конце работы}\label{fg:psy_agents5}}

\fig{[scale=0.3]{psy_agents6.png}}{\caption{Фрагмент картины мира агента в конце работы}\label{fg:psy_agents6}}

На снимках отражаются только те связи (и только те знаки), веса связей которых максимальны на текущий момент в картине мира "--- выбираются по 25 знаков-признаков для каждой категории с максимальным весом. Толщина связей на снимках прямо пропорциональна весу пар знак - категория. Категории обозначаются квадратами, знаки-признаки "--- овалами. В процессе эволюции картины мира на снимках появляются новые знаки (чей вес оказался в списке 25 наибольших для данной категории), выделяемые черным и изменяются толщины рёбер.

Наибольший интерес представляют графики изменения ресурсов агентов различных типов, представленные на рис.~\ref{fg:psy_agents7}.

\fig{[scale=0.3]{psy_agents7.png}}{\caption{Графики изменения количества ресурса (по оси ординат) в течением времени (по оси абсцисс)}\label{fg:psy_agents7}}

Цвета соответствуют оценкам личностных смыслов знаков. В начале оценки отсутствуют "--- все узлы одинакового лазурного цвета и в скобках рядом с именами знаков одинаковые нулевые значения. Затем, в ходе работы агента, в процессе накопления им опыта, знаки приобретают различные оценки: отрицательные (оттенки синего и красного цветов, отрицательные значения оценок в скобках) и положительные (оттенки зелёного и жёлтого цветов, положительные значения оценок в скобках).

В процессе работы ИАК, приобретая оценки личностных смыслов, начинает по-разному относиться к различным знакам. Те знаки, которые участвовали в принятии верного решения, приобретают положительную оценку и ИАК придаёт им больший вес при встрече в очередной реплике. Те же знаки, которые участвовали в принятии неверного решения, приобретают отрицательную оценку и ИАК не замечает их в очередных репликах. Такая нагрузка профессиональных знаний личностными смыслами хорошо согласуется с поведением начинающего психолога-консультанта.

Из приведённых графиков следует, что у агентов различных типов (обладающих разными индивидуальными характеристиками) графики имеют различный вид и имеют характерные особенности, которые соответствуют особенностям поведения реальных психологов-консультантов. Например, <<выгорание>> у хаотичного ИАК в случайной среде происходит не сразу (как у агентов других типов), а только с течением большего промежутка времени, т.е., в среднем, время его работы в два раза выше. Это связано с особенностью его поведения "--- отсутствием <<памяти>>: агент не запоминает, к какой категории относились предыдущие запросы, а находится в ожидании такого запроса, в котором какая-либо категория будет существенно преобладать над другой. Это позволяет ему в случайной среде, где тип попавшейся реплики случаен, вести себя более успешно. С другой стороны, следует отметить, что активный агент быстрее набирает ресурс, чем пассивный, что связано с тем, что ему достаточно меньшего количества реплик, относящихся к данной категории, для того, чтобы принять решение в её пользу. Примечательно также, что стереотипный агент, ждущий подтверждения своей первоначальной гипотезы, <<выгорает>> даже в предсказуемой среде, в отличие от агентов других типов.

Представленные особенности поведения интеллектуальных агентов, выраженные в механизме распознавания знаков-категорий и в динамике ресурса, хорошо согласуются с реальными особенностями поведения консультантов-людей с различными индивидуальными стратегиями. Этот результат служит в пользу того, что представленная архитектура агентов со знаковой картиной мира применима для моделирования поведения специалистов в соответствующих предметных областях.
