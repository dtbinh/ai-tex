\documentclass[tikz,convert={density=600,outext=.jpg},border=3pt]{standalone}

\usepackage[utf8]{inputenc} % utf8 encoding
\usepackage[english, russian]{babel}
\usepackage[T1]{fontenc} % use T1 fonts
\usepackage{amsmath} % nice math symbols
     

\usepackage{tikz}
\usetikzlibrary{shapes,arrows,calc}

\begin{document}
	
	\begin{tikzpicture}[>=triangle 60]
		\tikzstyle{level_rect} = [draw, rectangle, rounded corners=5ex, minimum height = 60mm, minimum width = 150mm,fill=black!3];
		\tikzstyle{level_model} =[draw, ellipse, minimum width = 80mm, minimum height = 15mm,align = center];
		\tikzstyle{control_block} = [draw, rectangle, minimum height = 20mm, minimum width = 25mm, align=center]
		\tikzstyle{traekt_block} = [draw, rectangle, minimum height = 20mm, minimum width = 40mm, align=center]
		\tikzstyle{misc_block} = [draw, rectangle, minimum height = 10mm, minimum width = 50mm, align=center]
		
		\node[misc_block] (messages) at (8, 20.5) {Обмен сообщениями\\с другими участниками};
		
		
		\node[level_rect] (level_1) at (0, 16) {};
		\node[level_model] (model_1) at (0, 17.3) {Картина мира};
		\node[traekt_block] (sit_decr) at (-4, 15) {Описание\\текущей\\ситуации};
		\node[traekt_block] (beh_plan) at (4, 15) {Планирование\\поведение};
		\node[font=\huge] at(0, 18.5) {Стратегический уровень};
		
		\draw[->,rounded corners] ([xshift=-3mm]model_1.south) |- ([yshift=5mm]sit_decr.east);
		\draw[->,rounded corners] ([xshift=3mm]model_1.south) |- ([yshift=5mm]beh_plan.west);
		\draw[->] ([yshift=-5mm]beh_plan.west) -- ([yshift=-5mm]sit_decr.east);
		
		\draw[->,rounded corners] ([xshift=3mm]messages.south) |- ([yshift=3mm]beh_plan.east);
		\draw[->,rounded corners] ([yshift=-3mm]beh_plan.east) -| ([xshift=9mm]messages.south);
		
		

		\node[level_rect] (level_2) at (0, 8) {};
		\node[traekt_block] (build_tr) at (4, 9) {Планирование\\траектории};		
		\node[traekt_block] (pred_tr) at (-4, 9) {Прогнозирование\\траектории};		
		\node[level_model, minimum width = 60mm] (model_3) at (0, 6.5) {Локальная\\карта};
		\node[font=\huge] at(0, 10.5) {Тактический уровень};
		
		\draw[->,rounded corners] ([xshift=-3mm]model_3.north) |- (pred_tr.east);
		\draw[->,rounded corners] ([xshift=3mm]model_3.north) |- (build_tr.west);
		
		\draw[->] (sit_decr.south) -- node[align=center, auto] {целевая область\\и временные\\ограничения} (pred_tr.north);
		\draw[->] (build_tr.north) -- node[align=center, auto] {траектория\\построена\\либо нет} (beh_plan.south);
		

		\node[level_rect] (level_3) at (0, 0) {};
		\node[font=\huge] at(0, 2.5) {Реактивный уровень};
		\node[control_block] (geom_3) at (-5.7, 0.5) {Процедура\\расчета\\геометрических\\ограничений};
		\node[control_block] (integr_3) at (0, 0.5) {Процедура\\интегрирования\\уравнений\\модели};
		\node[control_block] (signal_3) at (5.7, 0.5) {Процедура\\выработки\\управляющего\\сигнала};
		\node[level_model] (model_3) at (0, -2) {Параметры\\модели динамики};
				
		\draw[->] ([yshift=3mm]geom_3.east) -- node[align = center, auto] {параметры\\полёта} ([yshift=3mm]integr_3.west);
		\draw[<-] ([yshift=-3mm]geom_3.east) -- node[align = center, below] {фазовые\\координаты} ([yshift=-3mm]integr_3.west);
		
		\draw[->] ([yshift=3mm]integr_3.east) -- node[align = center, auto] {фазовые\\координаты} ([yshift=3mm]signal_3.west);
		\draw[<-] ([yshift=-3mm]integr_3.east) -- node[align = center, below] {управляющий\\сигнал} ([yshift=-3mm]signal_3.west);
		
		\draw[<-] (integr_3.south) -- (model_3.north);
		
		\draw[->,rounded corners] (pred_tr.south) node[align=center,yshift=-10mm,left] {переменные\\полета}|- ($(pred_tr.south)+(-7mm,-20mm)$) -| ([xshift=-5mm]geom_3.north);
		\draw[->,rounded corners] ([xshift=5mm]geom_3.north) |- node[align=center, xshift = 50mm, auto] {геометрические\\ограничения} ($(geom_3.north)+(7mm,20mm)$) -| ([xshift=10mm]build_tr.south);
		\draw[->,rounded corners] (build_tr.east) -| node[align=center,yshift=-50mm,right] {желаемая\\траектория} ([xshift=10mm]signal_3.north);
	
		\node[misc_block] (control_meh) at (8, -4.5) {Органы управления};
		\node[misc_block] (sensors) at (-8, -4.5) {Сенсоры};
		
		\draw[->,rounded corners] (signal_3.east) -| (control_meh.north) node[align=center, yshift = 20mm, right] {управляющий\\сигнал};
		\draw[->,rounded corners] (sensors.east) -| ([xshift=-7mm]signal_3.south);
		\draw[->,rounded corners] ([xshift=-5mm]sensors.north) |- (sit_decr.west);
	\end{tikzpicture}

\end{document}